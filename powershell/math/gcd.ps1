<#
.SYNOPSIS
    ユークリッドの互除法を用いた最大公約数（GCD）の計算モジュール

.DESCRIPTION
    このモジュールは、2つの整数の最大公約数を効率的に計算する
    ユークリッドの互除法を実装しています。

    時間計算量: O(log(min(a, b)))
    空間計算量: O(1)
#>

function Get-Gcd {
    <#
    .SYNOPSIS
        ユークリッドの互除法を用いて最大公約数を計算します。

    .DESCRIPTION
        ユークリッドの互除法は、2つの整数の最大公約数を効率的に求めるアルゴリズムです。
        基本原理: gcd(a, b) = gcd(b, a mod b) を繰り返し適用し、
        余りが0になったときの除数が最大公約数となります。

        計算例: gcd(48, 18)
          48 = 18 × 2 + 12  → gcd(18, 12)
          18 = 12 × 1 + 6   → gcd(12, 6)
          12 = 6 × 2 + 0    → 余りが0なので、6が最大公約数

    .PARAMETER A
        整数（正の整数、負の整数、0のいずれでも可）

    .PARAMETER B
        整数（正の整数、負の整数、0のいずれでも可）

    .OUTPUTS
        [int] AとBの最大公約数（常に0以上の値）

    .EXAMPLE
        Get-Gcd -A 48 -B 18
        # 出力: 6
    #>
    param (
        [int]$A,
        [int]$B
    )

    # 負の数が渡された場合に備えて、絶対値を取得する
    # 最大公約数は符号に関係なく同じ値になる（例: gcd(-12, 8) = gcd(12, 8) = 4）
    $A = [Math]::Abs($A)
    $B = [Math]::Abs($B)

    # ユークリッドの互除法のメインループ
    # $Bが0になるまで繰り返す
    while ($B -ne 0) {
        # 現在の$Bの値を一時変数に保存
        $temp = $B
        # $Bに$A % $B（余り）を代入
        $B = $A % $B
        # $Aに元の$Bの値を代入
        $A = $temp
    }

    # $Bが0になった時点で、$Aに最大公約数が格納されている
    return $A
}
