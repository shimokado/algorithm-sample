"""
選択ソートモジュール

このモジュールは、未ソート部分から最小値を選択して配置することで
リストをソートする選択ソートアルゴリズムを実装しています。
"""

from typing import List, Any


def selection_sort(data: List[Any]) -> List[Any]:
    """
    選択ソートを用いてリストを昇順にソートします。
    （リスト自体を変更します - 破壊的メソッド）
    
    選択ソートは、未ソート部分から最小値を「選択」し、
    ソート済み部分の末尾に移動させることを繰り返すアルゴリズムです。
    
    アルゴリズムの手順:
    1. 未ソート部分（最初はリスト全体）から最小値を見つける
    2. 最小値を未ソート部分の先頭と交換
    3. ソート済み部分が1つ増える
    4. リスト全体がソート済みになるまで1-3を繰り返す
    
    時間計算量: O(n²) - 常に全ての比較を行う
    空間計算量: O(1) - 追加のメモリをほとんど使用しない
    安定性: 不安定（同じ値の要素の相対的な順序が保持されない場合がある）
    
    Args:
        data (List[Any]): ソート対象のリスト
        
    Returns:
        List[Any]: ソートされたリスト（元のリストと同じ参照）
    """
    # リストの要素数を取得
    n = len(data)
    
    # 外側のループ: 各位置に対して最小値を選択して配置
    # i はソート済み部分の末尾のインデックス
    for i in range(n):
        # 未ソート部分の最小値のインデックスを追跡
        # 初期値は未ソート部分の先頭（i番目）
        min_index = i
        
        # 内側のループ: 未ソート部分から最小値を探す
        # i+1 から末尾まで走査
        for j in range(i + 1, n):
            # より小さい要素が見つかった場合、min_indexを更新
            if data[j] < data[min_index]:
                min_index = j
        
        # 最小値が現在の位置と異なる場合のみ交換
        # これにより不必要な交換を避ける
        if min_index != i:
            # Pythonのタプル代入を使った要素の交換
            data[i], data[min_index] = data[min_index], data[i]
            
    # ソート済みのリストを返す
    return data
