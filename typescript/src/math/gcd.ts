/**
 * ユークリッドの互除法を用いて最大公約数（GCD: Greatest Common Divisor）を計算します。
 * 
 * ユークリッドの互除法は、2つの整数の最大公約数を効率的に求めるアルゴリズムです。
 * 基本原理: gcd(a, b) = gcd(b, a mod b) を繰り返し適用し、
 * 余りが0になったときの除数が最大公約数となります。
 * 
 * 計算例: gcd(48, 18)
 *   48 = 18 × 2 + 12  → gcd(18, 12)
 *   18 = 12 × 1 + 6   → gcd(12, 6)
 *   12 = 6 × 2 + 0    → 余りが0なので、6が最大公約数
 * 
 * 時間計算量: O(log(min(a, b)))
 * 空間計算量: O(1)
 * 
 * @param a 整数（正の整数、負の整数、0のいずれでも可）
 * @param b 整数（正の整数、負の整数、0のいずれでも可）
 * @returns aとbの最大公約数（常に0以上の値）
 */
export function gcd(a: number, b: number): number {
    // 負の数が渡された場合に備えて、絶対値を取得する
    // 最大公約数は符号に関係なく同じ値になる（例: gcd(-12, 8) = gcd(12, 8) = 4）
    a = Math.abs(a);
    b = Math.abs(b);

    // ユークリッドの互除法のメインループ
    // bが0になるまで繰り返す
    while (b) {
        // 分割代入を使って、aにbを、bにa % b（余り）を同時に代入
        // これにより、次のステップの計算に必要な値が準備される
        [a, b] = [b, a % b];
    }

    // bが0になった時点で、aに最大公約数が格納されている
    return a;
}
